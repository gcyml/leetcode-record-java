class Solution {
    public int calPoints(String[] ops) {
        int totalScore = 0;
        Stack<Integer> st = new Stack<>();
        int last,score;
        for(String opt : ops) {
            if("D".equals(opt)) {
                last = st.peek();
                score = last * 2;
                totalScore += score;
                st.push(score);
            } else if("C".equals(opt)) {
                totalScore -= st.pop();
            } else if("+".equals(opt)) {
                last = st.pop();
                score = last + st.peek();
                totalScore += score;
                st.push(last);
                st.push(score);
            } else {
                score = Integer.parseInt(opt);
                totalScore += score;
                st.push(score);
            }
        }
        return totalScore;
    }
}