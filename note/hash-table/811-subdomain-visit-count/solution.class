class Solution {
    public List<String> subdomainVisits(String[] cpdomains) {
        HashMap<String, Integer> map = new HashMap<>();
        for(String cpdomain : cpdomains){
            String[] array = cpdomain.split(" ");
            int count = Integer.parseInt(array[0]);
            String domain = array[1];
            if(map.containsKey(domain)) {
                map.put(domain, map.get(domain)+count);
            }else {
                map.put(domain, count);
            }
            while(domain.indexOf('.') != -1) {
                domain = domain.substring(domain.indexOf('.')+1);
                if(map.containsKey(domain)) {
                    map.put(domain, map.get(domain)+count);
                }else {
                    map.put(domain, count);
                }
            }
        }
        List<String> list = new ArrayList<>();
        for(Map.Entry<String, Integer> entry : map.entrySet()) { 
            list.add(entry.getValue() + " " + entry.getKey()); 
        }
        return list;
    }
}